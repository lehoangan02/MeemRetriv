[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--------------------------< [0;36mcat.dog:vectordb[0;1m >--------------------------[m
[[1;34mINFO[m] [1mBuilding vectordb 1.0-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mexec-maven-plugin:3.6.2:java[m [1m(default-cli)[m @ [36mvectordb[0;1m ---[m
Starting

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v4.0.0)

2025-12-14T18:05:05.085+07:00  INFO 353729 --- [.dog.App.main()] cat.dog.App                              : Starting App using Java 21.0.9 with PID 353729 (/home/dptphat/HCMUS/25-26/I/Intro to Information Retrieval/Projects/MeemRetriv/backend/vectordb/target/classes started by dptphat in /home/dptphat/HCMUS/25-26/I/Intro to Information Retrieval/Projects/MeemRetriv/backend/vectordb)
2025-12-14T18:05:05.086+07:00  INFO 353729 --- [.dog.App.main()] cat.dog.App                              : No active profile set, falling back to 1 default profile: "default"
2025-12-14T18:05:05.544+07:00  INFO 353729 --- [.dog.App.main()] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-14T18:05:05.555+07:00  INFO 353729 --- [.dog.App.main()] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-14T18:05:05.555+07:00  INFO 353729 --- [.dog.App.main()] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-12-14T18:05:05.575+07:00  INFO 353729 --- [.dog.App.main()] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 467 ms
2025-12-14T18:05:05.939+07:00  INFO 353729 --- [.dog.App.main()] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-14T18:05:05.946+07:00  INFO 353729 --- [.dog.App.main()] cat.dog.App                              : Started App in 1.101 seconds (process running for 2.645)
Loading database configuration from .env file...
Database "label_db" already exists.
‚è≥ Waiting for Python models to load...
üêç Launching Python Server...
-----------------------------------------
üöÄ Initializing models...
[INFO] 8-bit quantization loaded successfully on CUDA.
‚úÖ MemeLLMProcessor loaded.
Initializing mobileclip_s0 on cuda...
MobileCLIP (Model & Tokenizer) loaded successfully.
‚úÖ MobileCLIP Embedder loaded.
-----------------------------------------
INFO:     127.0.0.1:40522 - "GET /docs HTTP/1.1" 200 OK
‚úÖ Python Server is Ready!
Schema already exists. Skipping creation.
Label table already has data. Skipping import.
Celeb table already has data. Skipping import.
Class 'MemeImage' already exists. Skipping creation.
Class 'MemeImageCleaned' already exists. Skipping creation.
Class 'CelebFaceEmbeddings' already exists. Skipping creation.
Class 'ExtractedFaceEmbeddings' already exists. Skipping creation.
Checking numpy installation...
INFO: Existing count for class 'MemeImage' is 6990
INFO: Class 'MemeImage' already contains vectors. Skipping import.
Checking numpy installation...
INFO: Existing count for class 'MemeImageCleaned' is 6987
INFO: Class 'MemeImageCleaned' already contains vectors. Skipping import.
INFO: Existing count for class 'CelebFaceEmbeddings' is 18184
INFO: Class 'CelebFaceEmbeddings' already contains data. Skipping import.
INFO: Existing count for class 'ExtractedFaceEmbeddings' is 7720
INFO: Class 'ExtractedFaceEmbeddings' already contains data. Skipping import.
Index celebrities already exists. Skipping creation.
Index captions already exists. Skipping creation.
Index celebrities already has documents. Skipping import.
Index captions already has documents. Skipping import.
Collection 'face_vectors' already exists.
INFO: Existing count for collection is 7720
CHROMA INFO: Collection already contains data. Skipping import.
2025-12-14T18:06:00.524+07:00  INFO 353729 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-14T18:06:00.524+07:00  INFO 353729 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-14T18:06:00.525+07:00  INFO 353729 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
Received text query: 
A two-panel meme.
Top panel: Bill Gates, with text saying ‚ÄúPerfectly healthy‚Äù and ‚ÄúGives billions to cure disease.‚Äù
Bottom panel: Steve Jobs speaking on a stage, with text saying ‚ÄúKeeps billions‚Äù and ‚ÄúDies of cancer.‚Äù

Time taken to predict person entities: 697.72 ms
Time taken to extract caption and description: 5420.52 ms
INFO:     127.0.0.1:41494 - "POST /analyze HTTP/1.1" 200 OK
LLM Processing took: 6197 ms
Time taken to search embeddings for Bill Gates: 183 ms
Found 20 embeddings for celebrity: Bill Gates
Time taken to search faces for all embeddings of Bill Gates: 373 ms
Time taken to search embeddings for Steve Jobs: 8 ms
Found 0 embeddings for celebrity: Steve Jobs
Time taken to search faces for all embeddings of Steve Jobs: 0 ms
Face Search took: 568 ms
Caption Search took: 446 ms
INFO:     127.0.0.1:59088 - "POST /embed_text HTTP/1.1" 200 OK
Descriptive Text Search took: 450 ms
Total retrieveSimilarImages execution time: 7664 ms
Face Search Results:
image_396
image_3889
image_3910
image_6140
image_6561
image_361
image_5890
image_6848
image_2116
image_3069
image_5111
image_2739
image_3928
image_3294
image_318
image_1000
image_3888
image_126
image_4869
image_5287
image_3649
image_2732
image_3896
image_3315
image_4276
image_6268
image_2731
image_6632
image_2812
image_1771
image_4246
image_3908
Caption Search Results:
image_3889
image_4648
image_1098
image_3934
image_4188
image_3908
image_3886
image_3924
image_5168
image_6455
Descriptive Text Search Results:
image_3910
image_3889
image_5167
image_244
image_2185
image_6561
image_6462
image_361
image_396
image_3897
image_3904
image_3559
image_81
image_4750
image_6924
image_3710
image_37
image_2812
image_5680
image_5097
Final Retrieved Images:
image_3889
image_3910
image_396
image_6561
image_361
image_2812
image_3908
image_5167
image_244
image_2185
image_6462
image_3897
image_3904
image_3559
image_4648
image_81
image_1098
image_4750
image_6924
image_6140
Returning 20 images.
üõë Stopping Python Server...
[0m2025-12-14T18:06:39.714+07:00  INFO 353729 --- [ionShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-14T18:06:39.719+07:00  INFO 353729 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
